install.packages("devtools")
library(devtools)
browseVignettes("geospaar")
file.exists("~/.ssh/id_rsa.pub")
browseVignettes("geospaar")
library(zambiags)
library(geospaar)
ss01 <- raster("data/season_planting_date_30perc/season_01.tif")
ss01
ss01 <- raster("data/season_planting_date_30perc/season_01.tif")
ss01 <- raster("data/season_planting_date_30perc/season_01.tif")
ss02 <- raster("data/season_planting_date_30perc/season_02.tif")
ss03 <- raster("data/season_planting_date_30perc/season_03.tif")
ss04 <- raster("data/season_planting_date_30perc/season_04.tif")
ss05 <- raster("data/season_planting_date_30perc/season_05.tif")
ss06 <- raster("data/season_planting_date_30perc/season_06.tif")
ss07 <- raster("data/season_planting_date_30perc/season_07.tif")
ss08 <- raster("data/season_planting_date_30perc/season_08.tif")
ss09 <- raster("data/season_planting_date_30perc/season_09.tif")
ss10 <- raster("data/season_planting_date_30perc/season_10.tif")
ss11 <- raster("data/season_planting_date_30perc/season_11.tif")
ss12 <- raster("data/season_planting_date_30perc/season_12.tif")
ss13 <- raster("data/season_planting_date_30perc/season_13.tif")
ss14 <- raster("data/season_planting_date_30perc/season_14.tif")
ss15 <- raster("data/season_planting_date_30perc/season_15.tif")
ss16 <- raster("data/season_planting_date_30perc/season_16.tif")
ss17 <- raster("data/season_planting_date_30perc/season_17.tif")
ss18 <- raster("data/season_planting_date_30perc/season_18.tif")
#create season start stack
l <- list(ss01, ss02, ss03, ss04, ss05, ss06, ss07, ss08, ss09, ss10, ss11, ss12, ss13, ss14, ss15, ss16, ss17, ss18)
season_start_stack <- stack(l)
plot_noaxes(season_start_stack)
#library(zambiags)
library(geospaar)
ss01 <- raster("data/season_planting_date_30perc/season_01.tif")
ss02 <- raster("data/season_planting_date_30perc/season_02.tif")
ss03 <- raster("data/season_planting_date_30perc/season_03.tif")
ss04 <- raster("data/season_planting_date_30perc/season_04.tif")
ss05 <- raster("data/season_planting_date_30perc/season_05.tif")
ss06 <- raster("data/season_planting_date_30perc/season_06.tif")
ss07 <- raster("data/season_planting_date_30perc/season_07.tif")
ss08 <- raster("data/season_planting_date_30perc/season_08.tif")
ss09 <- raster("data/season_planting_date_30perc/season_09.tif")
ss10 <- raster("data/season_planting_date_30perc/season_10.tif")
ss11 <- raster("data/season_planting_date_30perc/season_11.tif")
ss12 <- raster("data/season_planting_date_30perc/season_12.tif")
ss13 <- raster("data/season_planting_date_30perc/season_13.tif")
ss14 <- raster("data/season_planting_date_30perc/season_14.tif")
ss15 <- raster("data/season_planting_date_30perc/season_15.tif")
ss16 <- raster("data/season_planting_date_30perc/season_16.tif")
ss17 <- raster("data/season_planting_date_30perc/season_17.tif")
ss18 <- raster("data/season_planting_date_30perc/season_18.tif")
#create season start stack
l <- list(ss01, ss02, ss03, ss04, ss05, ss06, ss07, ss08, ss09, ss10, ss11, ss12, ss13, ss14, ss15, ss16, ss17, ss18)
season_start_stack <- stack(l)
plot_noaxes(season_start_stack)
se01
ss01
ss01-ss02
ss18
plot_noaxes(ss18)
#Season End Tif
se01 <- raster("data/season_end_30perc/season_01.tif")
plot_noaxes(se01)
se01
seasonStart_brick <- brick(l)
"hi"
ss01 <- raster("external/data/season_planting_date_30perc/season_01.tif")
#library(zambiags)
library(geospaar)
ss01 <- raster("external/data/season_planting_date_30perc/season_01.tif")
ss01 <- raster("extdata/season_planting_date_30perc/season_01.tif")
lapply("extdata/season_planting_date_30perc", function = raster)
?lapply
lapply("extdata/season_planting_date_30perc", fun = raster)
lapply("extdata/season_planting_date_30perc", FUN = raster)
ss_file <- (read.csv("extdata/season_planting_date_30perc"))
ss_file <- (read.csv("extdata/season_planting_date_30perc/season_01.tif"))
ss_file
lapply("extdata/season_planting_date_30perc", FUN = raster, use.names = TRUE)
lapply("extdata/season_planting_date_30perc/season_01.tif", FUN = raster, use.names = TRUE)
list.files("extdata/season_planting_date_30perc")
list.files("extdata/season_planting_date_30perc")
lapply(list.files("extdata/season_planting_date_30perc"), FUN = raster, use.names = TRUE)
lapply(x = list.files("extdata/season_planting_date_30perc"), FUN = raster, use.names = TRUE)
lapply(X = list.files("extdata/season_planting_date_30perc"), FUN = raster, use.names = TRUE)
list.files("extdata/season_planting_date_30perc")
ss_filelist <- list.files("extdata/season_planting_date_30perc")
lapply(ss_filelist, FUN = raster, use.names = TRUE)
ss_filelist <- list(list.files("extdata/season_planting_date_30perc"))
lapply(ss_filelist, FUN = raster, use.names = TRUE)
lapply(c(ss_filelist), FUN = raster, use.names = TRUE)
lapply(X = c(ss_filelist), FUN = raster, use.names = TRUE)
ss_filelist
file.path(list.files("extdata/season_planting_date_30perc"))
list(file.path(list.files("extdata/season_planting_date_30perc")))
file.path("extdata/season_planting_date_30perc")
file.path("extdata/season_planting_date_30perc") + "/" + list.files("extdata/season_planting_date_30perc")
c(file.path("extdata/season_planting_date_30perc") + "/" + list.files("extdata/season_planting_date_30perc"))
c(file.path("extdata/season_planting_date_30perc"), "/", list.files("extdata/season_planting_date_30perc"))
file.path(c(list.files("extdata/season_planting_date_30perc")))
lapply(X = "season_01.tif"), FUN = raster, use.names = TRUE)
lapply("season_01.tif", FUN = raster, use.names = TRUE)
ss_filelist <- list(list.files("extdata/season_planting_date_30perc"))
ss_filelist
?list.files
(list.files("extdata/season_planting_date_30perc", full.anmes = TRUE)
list.files("extdata/season_planting_date_30perc", full.names = TRUE)
ss_filelist <- list.files("extdata/season_planting_date_30perc", full.names = TRUE)
lapply(ss_filelist, FUN = raster, use.names = TRUE)
ss_rasterfiles <- lapply(ss_filelist, FUN = raster, use.names = TRUE)
ss_rasterfiles
#Season End Tif
ss_filelist <- list.files("extdata/season_end_30perc", full.names = TRUE)
ss_filelist
ss_filelist <- list.files("extdata/season_planting_date_30perc", full.names = TRUE)
#Season End Tif
se_filelist <- list.files("extdata/season_end_30perc", full.names = TRUE)
se_rasterfiles <- lapply(ss_filelist, FUN = raster, use.names = TRUE)
se_rasterfiles
se_rasterfiles <- lapply(se_filelist, FUN = raster, use.names = TRUE)
se_rasterfiles
season_end_stack <- stack(se_rasterfiles)
season_start_stack <- stack(ss_rasterfiles)
#library(zambiags)
library(geospaar)
#import season srtart files
ss_filelist <- list.files("extdata/season_planting_date_30perc", full.names = TRUE)
ss_rasterfiles <- lapply(ss_filelist, FUN = raster, use.names = TRUE)
season_start_stack <- stack(ss_rasterfiles)
season_start_stack
ss_rasterfiles
ss_rasterfiles
ss_rasterfiles[1]
ss_rasterfiles %>% mean()
plot_noaxes(ss_rasterfiles[1])
ss_rasterfiles
plot_noaxes(season_start_stack[1])
season_start_stack[1]
season_start_stack[[11]
season_start_stack[[1}]
plot_noaxes(season_start_stack[1])
```
season_start_stack[[1]]
plot_noaxes(season_start_stack[[1]])
#import season end files
se_filelist <- list.files("extdata/season_end_30perc", full.names = TRUE)
se_rasterfiles <- lapply(se_filelist, FUN = raster, use.names = TRUE)
season_end_stack <- stack(se_rasterfiles)
plot_noaxes(season_end_stack[[1]])
season_start_stack[[1, 2]]
season_start_stack[[1:2]]
plot_noaxes(season_start_stack[[1:2]])
plot_noaxes(season_end_stack[[1:2]])
#import season srtart files
ss_filelist <- list.files("external/data/season_planting_date_30perc", full.names = TRUE)
select(season_start_stack[[1]])
raster::select(season_start_stack[[1]])
season_start_stack[[1]]
raster(season_start_stack[[1]])
ss1 <- raster(season_start_stack[[1]])
ss1
plot(ss1)
plot_noaxes(ss1)
ss1 <- raster(season_start_stack[[1]], getValues(season_start_stack[[1]]))
ss1 <- raster(getValues(season_start_stack[[1]]))
ss1 <- raster(., getValues(season_start_stack[[1]]))
season_start_stack[[1]]
season_start_stack[[1]] %>% raster::select(x > 365)
season_start_stack[[1]] %>% raster::select(cell > 365)
season_start_stack[[1]] %>% raster::select(>365)
season_start_stack[[1]] %>% raster::select(1)
?raster::select
season_start_stack[[1]] %>% raster::select(., draw > 365)
season_start_stack[[1]] %>% raster::select(., draw = 365)
ss1 <- extent(season_start_stack[[1]])
ss1
ss1 <- raster(extent(season_start_stack[[1]]))
ss1
plot(ss1)
ss1 <- raster(season_start_stack[[1]])
season_start_stack %>% calc(., mean)
season_start_stack[[1]] %>% calc(., mean)
season_start_stack[[1]] %>%
?calc
season_start_stack[[1]] %>%
?raster::calc
calc(season_start_stack, mean())
calc(season_start_stack, )
calc(season_start_stack, mean)
calc(season_start_stack[[1]], mean)
sapply(season_start_stack, mean)
ss_rasterfiles[[1]]
ss_rasterfiles[[1]] %>% mean
sapply(ss_rasterfiles, mean)
ss_rasterfiles %>% calc(., mean)
#library(zambiags)
library(geospaar)
#library(zambiags)
library(dplyr)
library(geospaar)
ss_rasterfiles %>% calc(., mean)
values(ss1) <- season_start_stack[[1]]
values(ss1) <- 1
plot(ss1)
ss_mean <- raster(extent(season_start_stack[[1]]))
ss_mean
season_start_stack[[1]]
ss_mean <- raster(extent(season_start_stack[[1]], res = season_start_stack[[1]]))
ss_mean <- raster(extent(season_start_stack[[1]]), res = season_start_stack[[1]])
ss_mean <- raster(extent(season_start_stack[[1]]))
res(ss_mean) <- season_start_stack[[1]]
season_start_stack[[1]]
ss_mean <- raster(season_start_stack[[1]])
ss_mean
ss_filelist
ssmean <- raster::
ss_values <- raster::getValues(season_start_stack)
season_start_stack
raster::cellStats(season_start_stack)
?raster::cellStats
ssmean <- raster::cellStats(season_start_stack, mean)
ssmean <- raster::cellStats(season_start_stack[[1]], mean)
#load mask
data("crop_mask")
crop_mask
plot_noaxes(crop_mask)
season_start_stack %>% mask(., crop_mask)
ss_brick <- brick(ss_rasterfiles)
season_start_stack <- stack(ss_rasterfiles)
ss_brick <- brick(ss_rasterfiles)
#import season srtart files
ss_filelist <- list.files("external/data/season_planting_date_30perc", full.names = TRUE)
ss_rasterfiles <- lapply(ss_filelist, FUN = raster, use.names = TRUE)
ss_brick <- brick(ss_rasterfiles)
plot_noaxes(season_start_stack[[1]])
#library(zambiags)
library(dplyr)
library(geospaar)
#import season srtart files
ss_filelist <- list.files("external/data/season_planting_date_30perc", full.names = TRUE)
ss_rasterfiles <- lapply(ss_filelist, FUN = raster, use.names = TRUE)
season_start_stack <- stack(ss_rasterfiles)
ss_brick <- brick(ss_rasterfiles)
#import season end files
se_filelist <- list.files("external/data/season_end_30perc", full.names = TRUE)
se_rasterfiles <- lapply(se_filelist, FUN = raster, use.names = TRUE)
season_end_stack <- stack(se_rasterfiles)
plot_noaxes(season_start_stack[[1]])
plot_noaxes(season_end_stack[[1]])
#load mask
data("crop_mask")
crop_mask
plot_noaxes(crop_mask)
#planting date analysis
maskr
library("raster")
maskr <- raster("external/data/cropland/CropZmb1V1_2015_16_fullagree.tif")
plant <- dir("external/data/phenology/season_planting_date_30perc/", full.names = TRUE)
harv <- dir("external/data/phenology/season_end_30perc/", full.names = TRUE)
load("~/R/zambiags/data/crop_mask.rda")
load("~/R/zambiags/data/harv_masked.rda")
load("~/R/zambiags/data/plant_masked.rda")
#planting date analysis
data("crop_mask")
crop_mask
harv_masked
plant_masked
plot_noaxes(harv_masked[[1]])
plot_noaxes(harv_masked[1])
plot_noaxes(crop_mask)
plot_noaxes(harv_masked)
source('~/.active-rstudio-document', echo=TRUE)
harv_masked
harv_masked %>% cellStats(., mean)
crop_mask
harv_masked
#planting date analysis
crop_mask
load("~/R/zambiags/data/crop_mask.rda")
#planting date analysis
crop_mask
load("~/R/zambiags/data/crop_mask.rda")
#planting date analysis
crop_mask
library("raster")
